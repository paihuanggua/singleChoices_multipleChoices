<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <!--[if lt IE 9]>
	<script src="../common/js/html5shiv.js"></script>
	<script src="js/excanvas.js" type="text/javascript"></script>
    <link rel="js/stylesheet" href="iefix.css">
	<![endif]-->	
<link rel="stylesheet" href="css/style.css" type="text/css" />
<body>
<div class="mainCon">
	<div class="main">
    	<div class="z-title"></div>
        <div class="subject1 clearfix">
        	<div class="subject1-title">题目1：</div>
            <div class="subject1-main">
            	<div>1+1=？</div>
                <ul class="subject1-ul clearfix">
                	<li><input type="radio" name="a1"/><span>A、11</span><div></div></li>
                    <li><input type="radio" name="a1"/><span>B、12</span><div></div></li>
                    <li><input type="radio" name="a1"/><span>C、2<div></div></li>
                    <li><input type="radio" name="a1"/><span>D、33<div></div></li>
                </ul>
            </div>
        </div>
        <p class="block"></p>
        <div class="subject1 clearfix">
        	<div class="subject1-title">题目2：</div>
            <div class="subject1-main">
            	<div>2+2=？</div>
                <ul class="subject1-ul clearfix">
                	<li><input type="radio" name="a2"/><span>A、8</span><div></div></li>
                    <li><input type="radio" name="a2"/><span>B、16</span><div></div></li>
                    <li><input type="radio" name="a2"/><span>C、4</span><div></div></li>
                    <li><input type="radio" name="a2"/><span>D、22</span><div></div></li>
                </ul>
            </div>
        </div>
        <p class="block"></p>
        <div class="subject1 clearfix">
        	<div class="subject1-title">题目3：</div>
            <div class="subject1-main">
            	<div>4+4=？</div>
               
                <ul class="subject1-ul clearfix">
                	<li><input type="radio" name="a3"/><span>A、16</span><div></div></li>
                    <li><input type="radio" name="a3"/><span>B、32</span><div></div></li>
                    <li><input type="radio" name="a3"/><span>C、64</span><div></div></li>
                    <li><input type="radio" name="a3"/><span>D、8</span><div></div></li>
                </ul>
            </div>
        </div>
        
        <p class="block"></p>
        <div class="subject1 clearfix">
        	<div class="subject1-title">题目4：</div>
            <div class="subject1-main">
            	<div>已知当x->0时，函数f(x)=3sinx-sin3x与c*(x的k次方)是等价无穷小，则（）？</div>
               
                <ul class="subject1-ul clearfix">
                	<li><input type="radio" name="a4"/><span>A、k=1,c=4</span><div></div></li>
                    <li><input type="radio" name="a4"/><span>B、k=1,c=-4</span><div></div></li>
                    <li><input type="radio" name="a4"/><span>C、k=3,c=4</span><div></div></li>
                    <li><input type="radio" name="a4"/><span>D、k=3,c=-4</span><div></div></li>
                </ul>
            </div>
        </div>
        
        <p class="block"></p>
        <div class="subject1 clearfix">
        	<div class="subject1-title">题目5：</div>
            <div class="subject1-main">
            	<div>5+5？</div>
               
                <ul class="subject1-ul clearfix">
                	<li><input type="radio" name="a5"/><span>A、10</span><div></div></li>
                    <li><input type="radio" name="a5"/><span>B、15</span><div></div></li>
                    <li><input type="radio" name="a5"/><span>C、55</span><div></div></</li>
                    <li><input type="radio" name="a5"/><span>D、20</span><div></div></li>
                </ul>
            </div>
        </div>
        <p class="block"></p>
        <div class="subject1 subject2 clearfix">
        	<div class="subject1-title">题目6：</div>
            <div class="subject1-main">
            	<div>6+6=？</div>
               
                <ul class="subject1-ul subject2-ul clearfix">
                	<li><input type="radio" name="a7"/><span>A、22</span><div></div></li>
                    <li><input type="radio" name="a7"/><span>B、12</span><div></div></li>
                    <li><input type="radio" name="a7"/><span>C、32</span><div></div></li>
                    <li><input type="radio" name="a7"/><span>D、42</span><div></div></li>
                </ul>
            </div>
        </div>
        <p class="block"></p>
        <div class="subject1 clearfix">
        	<div class="subject1-title">题目7：</div>
            <div class="subject1-main">
            	<div>单的拼音（）？（多选题）</div>
               
                <ul class="subject1-ul subject2-ul clearfix">
                	<li><input type="checkbox" name="a6"/><span>A、chán</span><div></div></li>
                    <li><input type="checkbox" name="a6"/><span>B、zhāo</span><div></div></li>
                    <li><input type="checkbox" name="a6"/><span>C、zhuó</span><div></div></li>
                    <li><input type="checkbox" name="a6"/><span>D、shàn</span><div></div></li>
                    <li><input type="checkbox" name="a6"/><span>E、shān</span><div></div></li>
                </ul>
            </div>
        </div>
        <p class="block"></p>
        <div class="subject1 clearfix">
        	<div class="subject1-title">题目8：</div>
            <div class="subject1-main">
            	<div>省的拼音（）？（多选题）</div>
               
                <ul class="subject1-ul subject2-ul clearfix">
                	<li><input type="checkbox" name="a6"/><span>A、sheng</span><div></div></li>
                    <li><input type="checkbox" name="a6"/><span>B、zhāo</span><div></div></li>
                    <li><input type="checkbox" name="a6"/><span>C、xing</span><div></div></li>
                    <li><input type="checkbox" name="a6"/><span>D、shàn</span><div></div></li>
                    <li><input type="checkbox" name="a6"/><span>E、shān</span><div></div></li>
                </ul>
            </div>
        </div>
        
        <div class="btn" id="btn"></div>	
    </div>
</div>


<script>
function getByClass(oParent,sClass){
	if(oParent.getElemrntsByClassName){
		return oParent.getElemrntsByClassName(sClass)
	}else{
		var aResult=[];
		var re=new RegExp('\\b'+sClass+'\\b');
		var aEle=document.getElementsByTagName('*');
		for(var i=0;i<aEle.length;i++){
			if(re.test(aEle[i].className)){
				aResult.push(aEle[i])
			}
		}
		return aResult;
	}
}
function caseNum(json,index,aUl){
	json[index]='';
	aLi=aUl[index].children;
	var aInp=aUl[index].getElementsByTagName('input');
	for(var j=0;j<aLi.length;j++){
		(function(iNow){
			aLi[iNow].onclick=function(){
				if(aInp[iNow].checked==true){
					json[index]+=iNow;
				}else{
					var arr=json[index].split('');
					var str='';
					for(var i=0;i<arr.length;i++){
						if(iNow==arr[i]){
							arr.splice(i,1);
						}	
					}
					for(var i=0;i<arr.length;i++){
						str+=arr[i];
					}
					json[index]=str;
				}
			};
		})(j);
	}
}
window.onload=function(){
	//后台传过来的答案
	var answers=[
		{1:'c'},
		{2:'c'},
		{3:'d'},
		{4:'c'},
		{5:'a'},
		{6:'b'},
		{7:'ad'},
		{8:'ac'}
	];
	//选择
	var aUl=getByClass(document,'subject1-ul');
	var oBtn=document.getElementById('btn');
	var json={};
	//记录选择的答案
	for(var i=0;i<aUl.length;i++){
		(function(index){
			if(index>=6){//多选
				switch(index){
					case 6:
						caseNum(json,index,aUl);
						
						break;
					case 7:
						caseNum(json,index,aUl);
						break;
				}
			}else{//单选
				var aLi=aUl[index].children;
				for(var j=0;j<aLi.length;j++){
					(function(iNow){
						aLi[iNow].onclick=function(){
							json[index]=iNow;
						};
					})(j);
				}
			}
		})(i);	
	}
	//提交
	oBtn.onclick=function(){
		for(var i in json){
			if(json[i].length>1){//多选
				var str=answers[i][(parseInt(i)+1)];//答案
				var aLit=aUl[i].children;
				json[i].split('').sort(function(n1,n2){
					return n1-n2;	
				});
				for(var j=0;j<json[i].length;j++){
					var str2='abcdefg'.charAt(json[i][j]);
					if(str.indexOf(str2)==-1){//没找到
						aLit[json[i][j]].className='wrong';
						var oDiv=aLit[json[i][j]].getElementsByTagName('div')[0];
						oDiv.className='wrongImg';
					}else{//找到了
						aLit[json[i][j]].className='right';
						var oDiv=aLit[json[i][j]].getElementsByTagName('div')[0];
						oDiv.className='rightImg';
					};
				}
			}else{//单选
				if('abcd'.charAt(json[i])==answers[i][(parseInt(i)+1)]){//答对了
					var aLit=aUl[i].children;
					for(var j=0;j<aLit.length;j++){
						aLit[j].className='';	
					}
					aLit[json[i]].className='right';
					var oDiv=aLit[json[i]].getElementsByTagName('div')[0];
					oDiv.className='rightImg';	
				}else{//答错了
					var aLit=aUl[i].children;
					for(var j=0;j<aLit.length;j++){
						aLit[j].className='';	
					}
					aLit[json[i]].className='wrong';
					var oDiv=aLit[json[i]].getElementsByTagName('div')[0];
					oDiv.className='wrongImg';	
				}			
			}
		}
	};
}
</script>
</body>
</html>
































